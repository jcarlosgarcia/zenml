# This is a list of available ZenML deployments, either local or remote
# (external), that can be included in test environments to be used to run
# automated tests.
# Local deployments are provisioned by the test framework on the fly in the test
# preparation phase, and are torn down after the tests have finished. Remote
# deployments are assumed to be already provisioned and ready to use.
#
# A deployment has the following properties:
#
# - name: The name of the deployment. This is used to refer to the deployment
#   in test environments and in the test framework CLI. It is also used to
#   generate unique names for resources that may need to be deployed locally.
# - type: The deployment type. It can take one of the following values:
#   -  local: A local deployment that doesn't use a ZenML server. Clients have
#      to connect directly to a local database.
#   -  server: A deployment that uses a ZenML server running either locally or
#      remotely.
# - setup: The type of setup used to deploy and manage the test environment. For
#   deployments that are running locally, that are provisioned and managed by
#   the test framework, this controls how the deployment is provisioned.
#   It can take one of the following values:
#   -  default: Indicates that the default setup method should be used. For
#      `local` deployments, this means that the default SQLite database will be
#      used. For `server` deployments, this is equivalent to deploying the
#      default ZenML server with `zenml up`.
#   -  docker: When used with a `local` deployment type, a MySQL database
#      service container is provisioned locally and used instead of the default
#      SQLite database. When used with a `server` deployment type, a local ZenML
#      server is deployed, similar to running `zenml up --docker`. The test
#      framework also takes care of building and using a `zenml-server` Docker
#      image with the latest code available in the local zenml code repository
#      clone.
#   -  docker-compose: 
#   -  external: A 3rd party ZenML server that is installed and maintained
#      externally. The test framework will not provision or manage this server.
#      The test framework will only connect to the server and run tests against
deployments:
  - name: default
    type: local
    setup: default
  - name: mysql-local
    type: local
    setup: docker
  - name: localhost
    type: server
    setup: default
  - name: docker-server
    type: server
    setup: docker
  - name: docker-compose-server
    type: server
    setup: docker-compose
  - name: aws-test-server
    type: server
    setup: external
    config:
      url: https://zenml.internal.54.88.17.97.nip.io/
      username: "{{ZENML_SERVER_AWS_USERNAME}}"
      password: "{{ZENML_SERVER_AWS_PASSWORD}}"
environments:
  default:
    server: default
    
